<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Badge Alert Test</title>
</head>
<body>
    <h1>Badge Alert Test Page</h1>
    <p>Use the browser console to run these test commands:</p>
    
    <h2>Test Commands (run in browser console):</h2>
    <pre>
// Clear all progress (should show badge alert for first badge on all categories)
test0Completed();

// Set 2 completed scenarios for trolley-problem (should show badge alert - 1 more needed for 2nd badge)
test2Completed();

// Set 5 completed scenarios for trolley-problem (should show badge alert - 1 more needed for 3rd badge)
test5Completed();

// Test cases that should NOT show badge alert:
test1Completed(); // 1 completed (need 2 more for 2nd badge)
test3Completed(); // 3 completed (need 3 more for 3rd badge)
    </pre>
    
    <p><a href="index.html">Go to Main Page</a></p>
    <p><a href="category.html?category=bias-fairness">Go to Bias & Fairness Category</a></p>
    
    <script>
        console.log('Badge Alert Test Page Loaded');
        console.log('Current progress:', localStorage.getItem('simulateai_category_progress'));
        
        // Helper functions
        window.clearProgress = () => {
            localStorage.removeItem('simulateai_category_progress');
            console.log('Progress cleared');
            location.reload();
        };
        
        window.setBadgeAlertTest = (categoryId, completedCount) => {
            const progress = {};
            progress[categoryId] = {};
            for (let i = 1; i <= completedCount; i++) {
                progress[categoryId][`scenario${i}`] = true;
            }
            localStorage.setItem('simulateai_category_progress', JSON.stringify(progress));
            console.log(`Set ${completedCount} completed scenarios for ${categoryId}`);
            console.log('Progress:', progress);
            location.reload();
        };
        
        // Test with real category ID: trolley-problem
        // Test: 0 completed (badge alert for first badge)
        window.test0Completed = () => {
            localStorage.removeItem('simulateai_category_progress');
            console.log('Cleared progress - should show badge alert for all categories (0 completed, need 1 for first badge)');
            location.reload();
        };
        
        // Test: 2 completed (badge alert for second badge at 3 scenarios)
        window.test2Completed = () => setBadgeAlertTest('trolley-problem', 2);
        
        // Test: 5 completed (badge alert for third badge at 6 scenarios) 
        window.test5Completed = () => setBadgeAlertTest('trolley-problem', 5);
        
        // Test: 1 completed (should NOT show badge alert - need 2 more for second badge)
        window.test1Completed = () => setBadgeAlertTest('trolley-problem', 1);
        
        // Test: 3 completed (should NOT show badge alert - need 3 more for third badge)
        window.test3Completed = () => setBadgeAlertTest('trolley-problem', 3);
    </script>
</body>
</html>
