<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Donor Appreciation Centering Test</title>
    <link rel="stylesheet" href="src/styles/shared.css" />
    <link rel="stylesheet" href="src/styles/media.css" />
    <link rel="stylesheet" href="src/styles/donor-wall.css" />
    <style>
      body {
        margin: 0;
        font-family: system-ui, sans-serif;
        background: var(--color-background-subtle, #f8fafc);
      }

      .test-header {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
        padding: 2rem;
        text-align: center;
        margin-bottom: 2rem;
      }

      .test-info {
        background: white;
        padding: 1.5rem;
        margin: 1rem auto;
        max-width: 800px;
        border-radius: 12px;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
      }

      .centering-analysis {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
      }

      .analysis-item {
        background: #f9fafb;
        padding: 1rem;
        border-radius: 8px;
        border: 1px solid #e5e7eb;
      }

      .analysis-label {
        font-weight: 600;
        color: #374151;
        margin-bottom: 0.25rem;
      }

      .analysis-value {
        font-family: monospace;
        color: #059669;
        background: white;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        border: 1px solid #d1fae5;
        font-size: 0.875rem;
      }

      .status-good {
        color: #059669;
      }
      .status-warning {
        color: #f59e0b;
      }
      .status-error {
        color: #ef4444;
      }

      /* Visual test indicators */
      .test-container {
        position: relative;
        margin: 2rem 0;
        outline: 3px dashed #3b82f6;
        outline-offset: 10px;
      }

      .test-container::before {
        content: "üìê Container Boundary";
        position: absolute;
        top: -2rem;
        left: 1rem;
        background: #3b82f6;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 4px;
        font-size: 0.75rem;
        font-weight: 600;
        z-index: 10;
      }

      /* Viewport width indicators */
      .viewport-info {
        position: fixed;
        top: 1rem;
        right: 1rem;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 0.75rem 1rem;
        border-radius: 6px;
        font-family: monospace;
        font-size: 0.875rem;
        z-index: 1000;
        backdrop-filter: blur(10px);
      }

      .centering-guides {
        position: fixed;
        top: 0;
        left: 50%;
        width: 2px;
        height: 100vh;
        background: rgba(255, 0, 0, 0.3);
        transform: translateX(-50%);
        pointer-events: none;
        z-index: 5;
      }

      .centering-guides::before {
        content: "Center Line";
        position: absolute;
        top: 50%;
        left: 0.5rem;
        background: rgba(255, 0, 0, 0.8);
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.7rem;
        white-space: nowrap;
        transform: translateY(-50%);
      }
    </style>
  </head>
  <body>
    <div class="viewport-info">
      <div>
        Viewport: <span id="viewport-width">0</span>px √ó
        <span id="viewport-height">0</span>px
      </div>
      <div>Device: <span id="device-type">Unknown</span></div>
    </div>

    <div class="centering-guides"></div>

    <div class="test-header">
      <h1>üéØ Donor Appreciation Centering Test</h1>
      <p>
        Testing <code>margin-left: auto</code> and
        <code>margin-right: auto</code> on
        <code>section#donor-appreciation</code>
      </p>
    </div>

    <div class="test-info">
      <h2>üîç Centering Analysis</h2>
      <p>
        The donor appreciation section should be perfectly centered using
        explicit margin auto properties.
      </p>

      <div class="centering-analysis" id="centering-analysis">
        <div class="analysis-item">
          <div class="analysis-label">Element Width</div>
          <div class="analysis-value" id="element-width">Checking...</div>
        </div>
        <div class="analysis-item">
          <div class="analysis-label">Max Width</div>
          <div class="analysis-value" id="max-width-value">Checking...</div>
        </div>
        <div class="analysis-item">
          <div class="analysis-label">Margin Left</div>
          <div class="analysis-value" id="margin-left-value">Checking...</div>
        </div>
        <div class="analysis-item">
          <div class="analysis-label">Margin Right</div>
          <div class="analysis-value" id="margin-right-value">Checking...</div>
        </div>
        <div class="analysis-item">
          <div class="analysis-label">Left Position</div>
          <div class="analysis-value" id="left-position">Checking...</div>
        </div>
        <div class="analysis-item">
          <div class="analysis-label">Center Offset</div>
          <div class="analysis-value" id="center-offset">Checking...</div>
        </div>
        <div class="analysis-item">
          <div class="analysis-label">Centering Status</div>
          <div class="analysis-value" id="centering-status">Checking...</div>
        </div>
        <div class="analysis-item">
          <div class="analysis-label">Class Applied</div>
          <div class="analysis-value" id="class-check">Checking...</div>
        </div>
      </div>
    </div>

    <!-- Test Implementation -->
    <div class="test-container">
      <section
        class="donor-appreciation-section layout-container-responsive"
        id="donor-appreciation"
      >
        <div class="main-section-header">
          <h2 class="main-section-title">üôè Centering Test Section</h2>
          <p class="main-section-description">
            This section tests the margin-left: auto and margin-right: auto
            implementation
          </p>
        </div>

        <div class="donor-wall-stats">
          <div class="stat-card">
            <div class="stat-number">‚úÖ</div>
            <div class="stat-label">Margin Auto</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">üéØ</div>
            <div class="stat-label">Centered</div>
          </div>
          <div class="stat-card">
            <div class="stat-number">üì±üíªüñ•Ô∏è</div>
            <div class="stat-label">Responsive</div>
          </div>
        </div>
      </section>
    </div>

    <div class="test-info">
      <h2>‚úÖ Implementation Details</h2>
      <ul>
        <li>
          <strong>ID Selector:</strong> <code>#donor-appreciation</code> has
          explicit <code>margin-left: auto</code> and
          <code>margin-right: auto</code>
        </li>
        <li>
          <strong>Class Selector:</strong>
          <code>.donor-appreciation-section</code> has
          <code>margin: 0 auto</code> for fallback
        </li>
        <li>
          <strong>Max Width:</strong> Limited to 1400px to prevent excessive
          width on ultra-wide screens
        </li>
        <li>
          <strong>Responsive:</strong> Adjustments for mobile, tablet, and
          desktop viewport sizes
        </li>
        <li>
          <strong>Box Model:</strong>
          <code>box-sizing: border-box</code> ensures predictable sizing
        </li>
      </ul>
    </div>

    <script>
      function updateViewportInfo() {
        const width = window.innerWidth;
        const height = window.innerHeight;
        document.getElementById("viewport-width").textContent = width;
        document.getElementById("viewport-height").textContent = height;

        let deviceType = "Unknown";
        if (width <= 767) deviceType = "Mobile";
        else if (width <= 1279) deviceType = "Tablet";
        else if (width <= 1919) deviceType = "Laptop";
        else deviceType = "Desktop";

        document.getElementById("device-type").textContent = deviceType;
      }

      function analyzeCentering() {
        const section = document.getElementById("donor-appreciation");
        if (!section) {
          console.error("Donor appreciation section not found");
          return;
        }

        const rect = section.getBoundingClientRect();
        const computed = getComputedStyle(section);
        const parentRect = section.parentElement.getBoundingClientRect();

        // Calculate centering metrics
        const elementWidth = rect.width;
        const maxWidth = computed.maxWidth;
        const marginLeft = computed.marginLeft;
        const marginRight = computed.marginRight;
        const leftPosition = rect.left;
        const viewportCenter = window.innerWidth / 2;
        const elementCenter = rect.left + rect.width / 2;
        const centerOffset = Math.abs(elementCenter - viewportCenter);

        // Determine centering status
        let status = "Perfectly Centered";
        let statusClass = "status-good";
        if (centerOffset > 10) {
          status = "Slightly Off Center";
          statusClass = "status-warning";
        }
        if (centerOffset > 50) {
          status = "Not Centered";
          statusClass = "status-error";
        }

        // Check if classes are applied
        const hasClass = section.classList.contains(
          "donor-appreciation-section",
        );
        const hasContainerClass = section.classList.contains(
          "layout-container-responsive",
        );

        // Update UI
        document.getElementById("element-width").textContent =
          `${elementWidth.toFixed(1)}px`;
        document.getElementById("max-width-value").textContent = maxWidth;
        document.getElementById("margin-left-value").textContent = marginLeft;
        document.getElementById("margin-right-value").textContent = marginRight;
        document.getElementById("left-position").textContent =
          `${leftPosition.toFixed(1)}px`;
        document.getElementById("center-offset").textContent =
          `${centerOffset.toFixed(1)}px`;

        const statusElement = document.getElementById("centering-status");
        statusElement.textContent = status;
        statusElement.className = `analysis-value ${statusClass}`;

        document.getElementById("class-check").textContent =
          `${hasClass ? "‚úÖ" : "‚ùå"} Section, ${hasContainerClass ? "‚úÖ" : "‚ùå"} Container`;

        // Log for debugging
        console.log("Donor Appreciation Centering Analysis:", {
          elementWidth,
          maxWidth,
          marginLeft,
          marginRight,
          leftPosition,
          centerOffset,
          status,
          hasClass,
          hasContainerClass,
          computed: {
            display: computed.display,
            position: computed.position,
            boxSizing: computed.boxSizing,
          },
        });
      }

      // Initialize and update on resize
      updateViewportInfo();
      analyzeCentering();

      window.addEventListener("resize", () => {
        updateViewportInfo();
        setTimeout(analyzeCentering, 100); // Slight delay for layout recalculation
      });

      // Auto-refresh analysis every 2 seconds
      setInterval(analyzeCentering, 2000);
    </script>
  </body>
</html>
