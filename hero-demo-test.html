<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hero Demo Test</title>
    <link rel="stylesheet" href="src/styles/main.css">
    <link rel="stylesheet" href="src/styles/hero-demo.css">
    <link rel="stylesheet" href="src/styles/layout-fixes.css">
</head>
<body>
    <div id="hero-demo" class="simulation-preview">
        <!-- Hero demo will be loaded here -->
    </div>
    
    <script type="module">
        // Simplified test of hero demo
        const demoContainer = document.getElementById('hero-demo');
        
        demoContainer.innerHTML = `
            <div class="hero-demo-container">
                <div class="demo-header">
                    <h3 class="demo-title">Try It: AI Ethics in Action</h3>
                    <p class="demo-subtitle">Make decisions and see their ethical impact in real-time</p>
                </div>
                
                <div class="demo-content">
                    <div class="scenario-panel">
                        <div class="scenario-header">
                            <h4 class="scenario-title">AI Hiring Assistant</h4>
                        </div>
                        
                        <div class="scenario-question">
                            Your AI system is screening job applications. What data should it use to rank candidates?
                        </div>
                        
                        <div class="scenario-choices">
                            <button class="choice-btn" data-choice="0">
                                <span class="choice-text">Skills, experience, and education only</span>
                                <span class="choice-impact">+Fair, +Transparent</span>
                            </button>
                            <button class="choice-btn" data-choice="1">
                                <span class="choice-text">Include age and photo for 'cultural fit'</span>
                                <span class="choice-impact">-Fair, -Transparent</span>
                            </button>
                            <button class="choice-btn" data-choice="2">
                                <span class="choice-text">Add anonymous demographic data for diversity tracking</span>
                                <span class="choice-impact">+Fair, ++Transparent</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="ethics-panel">
                        <h4 class="ethics-title">Ethics Impact</h4>
                        <div class="ethics-meters">
                            <div class="ethics-meter">
                                <div class="meter-header">
                                    <span class="meter-label">Fairness</span>
                                    <span class="meter-value">75%</span>
                                </div>
                                <div class="meter-bar">
                                    <div class="meter-fill fairness-fill" style="width: 75%;"></div>
                                </div>
                            </div>
                            <div class="ethics-meter">
                                <div class="meter-header">
                                    <span class="meter-label">Transparency</span>
                                    <span class="meter-value">60%</span>
                                </div>
                                <div class="meter-bar">
                                    <div class="meter-fill transparency-fill" style="width: 60%;"></div>
                                </div>
                            </div>
                            <div class="ethics-meter">
                                <div class="meter-header">
                                    <span class="meter-label">Accountability</span>
                                    <span class="meter-value">80%</span>
                                </div>
                                <div class="meter-bar">
                                    <div class="meter-fill accountability-fill" style="width: 80%;"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="demo-feedback" id="demo-feedback" style="display: none;">
                            <div class="feedback-content"></div>
                        </div>
                        
                        <button class="btn btn-primary demo-cta">
                            Try Full Simulation â†’
                        </button>
                    </div>
                </div>
            </div>
        `;

        // Add interactivity
        const choiceButtons = demoContainer.querySelectorAll('.choice-btn');
        const feedbackEl = demoContainer.querySelector('#demo-feedback');
        const feedbackContent = demoContainer.querySelector('.feedback-content');

        choiceButtons.forEach((btn, index) => {
            btn.addEventListener('click', () => {
                choiceButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                const feedbacks = [
                    {
                        text: "Great choice! Using only relevant qualifications reduces bias.",
                        meters: { fairness: 90, transparency: 85, accountability: 90 }
                    },
                    {
                        text: "This could introduce bias into hiring decisions.",
                        meters: { fairness: 30, transparency: 40, accountability: 35 }
                    },
                    {
                        text: "Good balance - helps track diversity without direct bias.",
                        meters: { fairness: 85, transparency: 95, accountability: 85 }
                    }
                ];

                const feedback = feedbacks[index];
                feedbackContent.textContent = feedback.text;
                feedbackEl.style.display = 'block';

                // Update meters
                Object.entries(feedback.meters).forEach(([metric, value]) => {
                    const fill = demoContainer.querySelector(`.${metric}-fill`);
                    const valueSpan = demoContainer.querySelector(`.ethics-meter:has(.${metric}-fill) .meter-value`);
                    
                    if (fill && valueSpan) {
                        fill.style.width = `${value}%`;
                        valueSpan.textContent = `${value}%`;
                    }
                });
            });
        });
    </script>
</body>
</html>
