<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SEO Validation Test - SimulateAI</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.1);
        padding: 30px;
        border-radius: 15px;
        backdrop-filter: blur(10px);
      }
      .header {
        text-align: center;
        margin-bottom: 40px;
      }
      .test-section {
        background: rgba(255, 255, 255, 0.1);
        margin: 20px 0;
        padding: 20px;
        border-radius: 10px;
        border-left: 4px solid #fff;
      }
      .test-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      }
      .test-item:last-child {
        border-bottom: none;
      }
      .status {
        font-weight: bold;
        padding: 5px 10px;
        border-radius: 5px;
      }
      .status.pass {
        background: #4caf50;
        color: white;
      }
      .status.fail {
        background: #f44336;
        color: white;
      }
      .status.warning {
        background: #ff9800;
        color: white;
      }
      .button {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: 2px solid white;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        margin: 10px;
        transition: all 0.3s ease;
      }
      .button:hover {
        background: white;
        color: #667eea;
      }
      .results {
        margin-top: 20px;
        padding: 20px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        min-height: 100px;
      }
      .url-input {
        width: 100%;
        padding: 10px;
        margin: 10px 0;
        border: none;
        border-radius: 5px;
        font-size: 16px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üîç SEO Validation Test</h1>
        <p>Comprehensive SEO audit for SimulateAI platform</p>
      </div>

      <div class="test-section">
        <h2>üìÑ Core SEO Files</h2>
        <div class="test-item">
          <span>robots.txt file exists</span>
          <span class="status" id="robots-status">Testing...</span>
        </div>
        <div class="test-item">
          <span>sitemap.xml file exists</span>
          <span class="status" id="sitemap-status">Testing...</span>
        </div>
      </div>

      <div class="test-section">
        <h2>üè† Homepage SEO</h2>
        <div class="test-item">
          <span>Title tag optimized</span>
          <span class="status" id="home-title-status">Testing...</span>
        </div>
        <div class="test-item">
          <span>Meta description present</span>
          <span class="status" id="home-desc-status">Testing...</span>
        </div>
        <div class="test-item">
          <span>Structured data implemented</span>
          <span class="status" id="home-schema-status">Testing...</span>
        </div>
        <div class="test-item">
          <span>Open Graph tags present</span>
          <span class="status" id="home-og-status">Testing...</span>
        </div>
      </div>

      <div class="test-section">
        <h2>üìù Blog SEO</h2>
        <div class="test-item">
          <span>Blog title optimized</span>
          <span class="status" id="blog-title-status">Testing...</span>
        </div>
        <div class="test-item">
          <span>Blog structured data</span>
          <span class="status" id="blog-schema-status">Testing...</span>
        </div>
        <div class="test-item">
          <span>Canonical URL set</span>
          <span class="status" id="blog-canonical-status">Testing...</span>
        </div>
      </div>

      <div class="test-section">
        <h2>üì± App Page SEO</h2>
        <div class="test-item">
          <span>App title optimized</span>
          <span class="status" id="app-title-status">Testing...</span>
        </div>
        <div class="test-item">
          <span>WebApplication schema</span>
          <span class="status" id="app-schema-status">Testing...</span>
        </div>
      </div>

      <div class="test-section">
        <h2>‚ÑπÔ∏è About Page SEO</h2>
        <div class="test-item">
          <span>About title optimized</span>
          <span class="status" id="about-title-status">Testing...</span>
        </div>
        <div class="test-item">
          <span>AboutPage schema</span>
          <span class="status" id="about-schema-status">Testing...</span>
        </div>
      </div>

      <div class="test-section">
        <h2>üîß Technical SEO</h2>
        <div class="test-item">
          <span>All pages have canonical URLs</span>
          <span class="status" id="canonical-status">Testing...</span>
        </div>
        <div class="test-item">
          <span>Proper robots meta tags</span>
          <span class="status" id="robots-meta-status">Testing...</span>
        </div>
        <div class="test-item">
          <span>Twitter Cards implemented</span>
          <span class="status" id="twitter-status">Testing...</span>
        </div>
      </div>

      <div class="test-section">
        <h2>üéØ SEO Test Controls</h2>
        <button class="button" onclick="runSEOTests()">
          üîç Run Complete SEO Audit
        </button>
        <button class="button" onclick="testStructuredData()">
          üìä Test Structured Data
        </button>
        <button class="button" onclick="validateSitemap()">
          üó∫Ô∏è Validate Sitemap
        </button>
        <button class="button" onclick="checkSocialMedia()">
          üì± Check Social Media Tags
        </button>
      </div>

      <div class="results" id="test-results">
        <p><strong>üìã Test Results:</strong></p>
        <p>Click "Run Complete SEO Audit" to start testing...</p>
      </div>
    </div>

    <script>
      async function runSEOTests() {
        const results = document.getElementById("test-results");
        results.innerHTML = "<p><strong>üîÑ Running SEO Tests...</strong></p>";

        // Test robots.txt
        try {
          const robotsResponse = await fetch("/robots.txt");
          if (robotsResponse.ok) {
            document.getElementById("robots-status").textContent = "PASS";
            document.getElementById("robots-status").className = "status pass";
          } else {
            document.getElementById("robots-status").textContent = "FAIL";
            document.getElementById("robots-status").className = "status fail";
          }
        } catch (error) {
          document.getElementById("robots-status").textContent = "FAIL";
          document.getElementById("robots-status").className = "status fail";
        }

        // Test sitemap.xml
        try {
          const sitemapResponse = await fetch("/sitemap.xml");
          if (sitemapResponse.ok) {
            document.getElementById("sitemap-status").textContent = "PASS";
            document.getElementById("sitemap-status").className = "status pass";
          } else {
            document.getElementById("sitemap-status").textContent = "FAIL";
            document.getElementById("sitemap-status").className = "status fail";
          }
        } catch (error) {
          document.getElementById("sitemap-status").textContent = "FAIL";
          document.getElementById("sitemap-status").className = "status fail";
        }

        // Test homepage elements
        await testPageSEO("/", {
          titleId: "home-title-status",
          descId: "home-desc-status",
          schemaId: "home-schema-status",
          ogId: "home-og-status",
        });

        results.innerHTML += "<p>‚úÖ <strong>SEO audit completed!</strong></p>";
        results.innerHTML += "<p>üìä Check individual test results above.</p>";
      }

      async function testPageSEO(url, elementIds) {
        try {
          const response = await fetch(url);
          const html = await response.text();
          const parser = new DOMParser();
          const doc = parser.parseFromString(html, "text/html");

          // Test title
          const title = doc.querySelector("title");
          if (
            title &&
            title.textContent.length > 10 &&
            title.textContent.length < 70
          ) {
            document.getElementById(elementIds.titleId).textContent = "PASS";
            document.getElementById(elementIds.titleId).className =
              "status pass";
          } else {
            document.getElementById(elementIds.titleId).textContent = "FAIL";
            document.getElementById(elementIds.titleId).className =
              "status fail";
          }

          // Test meta description
          const metaDesc = doc.querySelector('meta[name="description"]');
          if (
            metaDesc &&
            metaDesc.content.length > 120 &&
            metaDesc.content.length < 170
          ) {
            document.getElementById(elementIds.descId).textContent = "PASS";
            document.getElementById(elementIds.descId).className =
              "status pass";
          } else {
            document.getElementById(elementIds.descId).textContent = "FAIL";
            document.getElementById(elementIds.descId).className =
              "status fail";
          }

          // Test structured data
          const structuredData = doc.querySelector(
            'script[type="application/ld+json"]',
          );
          if (structuredData) {
            document.getElementById(elementIds.schemaId).textContent = "PASS";
            document.getElementById(elementIds.schemaId).className =
              "status pass";
          } else {
            document.getElementById(elementIds.schemaId).textContent = "FAIL";
            document.getElementById(elementIds.schemaId).className =
              "status fail";
          }

          // Test Open Graph
          const ogTitle = doc.querySelector('meta[property="og:title"]');
          if (ogTitle) {
            document.getElementById(elementIds.ogId).textContent = "PASS";
            document.getElementById(elementIds.ogId).className = "status pass";
          } else {
            document.getElementById(elementIds.ogId).textContent = "FAIL";
            document.getElementById(elementIds.ogId).className = "status fail";
          }
        } catch (error) {
          console.error("Error testing page SEO:", error);
        }
      }

      async function testStructuredData() {
        const results = document.getElementById("test-results");
        results.innerHTML =
          "<p><strong>üìä Testing Structured Data...</strong></p>";

        const pages = ["/", "/blog.html", "/about.html", "/app.html"];
        let structuredDataFound = 0;

        for (const page of pages) {
          try {
            const response = await fetch(page);
            const html = await response.text();
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, "text/html");

            const schemas = doc.querySelectorAll(
              'script[type="application/ld+json"]',
            );
            if (schemas.length > 0) {
              structuredDataFound++;
              results.innerHTML += `<p>‚úÖ ${page}: ${schemas.length} schema(s) found</p>`;
            } else {
              results.innerHTML += `<p>‚ùå ${page}: No structured data found</p>`;
            }
          } catch (error) {
            results.innerHTML += `<p>‚ö†Ô∏è ${page}: Error testing structured data</p>`;
          }
        }

        results.innerHTML += `<p><strong>üìä Structured Data Summary: ${structuredDataFound}/${pages.length} pages have structured data</strong></p>`;
      }

      async function validateSitemap() {
        const results = document.getElementById("test-results");
        results.innerHTML = "<p><strong>üó∫Ô∏è Validating Sitemap...</strong></p>";

        try {
          const response = await fetch("/sitemap.xml");
          if (response.ok) {
            const xmlText = await response.text();
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(xmlText, "text/xml");

            const urls = xmlDoc.querySelectorAll("url");
            results.innerHTML += `<p>‚úÖ Sitemap found with ${urls.length} URLs</p>`;

            urls.forEach((url, index) => {
              const loc = url.querySelector("loc").textContent;
              const lastmod =
                url.querySelector("lastmod")?.textContent || "Not specified";
              const priority =
                url.querySelector("priority")?.textContent || "Not specified";
              results.innerHTML += `<p>üìÑ ${index + 1}. ${loc} (Priority: ${priority})</p>`;
            });
          } else {
            results.innerHTML += "<p>‚ùå Sitemap not accessible</p>";
          }
        } catch (error) {
          results.innerHTML += "<p>‚ö†Ô∏è Error validating sitemap</p>";
        }
      }

      async function checkSocialMedia() {
        const results = document.getElementById("test-results");
        results.innerHTML =
          "<p><strong>üì± Checking Social Media Tags...</strong></p>";

        const pages = ["/", "/blog.html", "/about.html", "/app.html"];

        for (const page of pages) {
          try {
            const response = await fetch(page);
            const html = await response.text();
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, "text/html");

            const ogTitle = doc.querySelector('meta[property="og:title"]');
            const ogDesc = doc.querySelector('meta[property="og:description"]');
            const ogImage = doc.querySelector('meta[property="og:image"]');
            const twitterCard = doc.querySelector('meta[name="twitter:card"]');

            let socialScore = 0;
            if (ogTitle) socialScore++;
            if (ogDesc) socialScore++;
            if (ogImage) socialScore++;
            if (twitterCard) socialScore++;

            results.innerHTML += `<p>${socialScore === 4 ? "‚úÖ" : "‚ö†Ô∏è"} ${page}: ${socialScore}/4 social tags present</p>`;
          } catch (error) {
            results.innerHTML += `<p>‚ö†Ô∏è ${page}: Error checking social media tags</p>`;
          }
        }
      }

      // Auto-run basic tests on page load
      window.addEventListener("load", () => {
        setTimeout(runSEOTests, 1000);
      });
    </script>
  </body>
</html>
