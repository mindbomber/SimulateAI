/* 
  Navigation Highlight Bug Fix - PROPER WORKING HIGHLIGHTS
  Fix the persistence bug while maintaining proper active states
*/

/* Allow normal navigation active states to work */
.nav-link.active {
  color: var(--color-primary) !important;
  background-color: rgba(0, 124, 186, 0.1) !important;
  font-weight: var(--font-weight-semibold) !important;
}

.nav-link.active::before {
  content: '' !important;
  position: absolute !important;
  left: 0 !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  width: 3px !important;
  height: 20px !important;
  background: var(--color-primary) !important;
  border-radius: 0 2px 2px 0 !important;
  display: block !important;
}

/* DARK MODE - Proper active states */
body.dark-mode .nav-link.active {
  color: #4a9eff !important;
  background-color: rgba(74, 158, 255, 0.15) !important;
  font-weight: var(--font-weight-semibold) !important;
}

body.dark-mode .nav-link.active::before {
  content: '' !important;
  position: absolute !important;
  left: 0 !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  width: 3px !important;
  height: 20px !important;
  background: #4a9eff !important;
  border-radius: 0 2px 2px 0 !important;
  display: block !important;
}

/* ONLY disable the clearing class when needed */
.nav-link-clear-active {
  background-color: transparent !important;
  color: inherit !important;
  font-weight: inherit !important;
  border-bottom-color: transparent !important;
}

.nav-link-clear-active::before,
.nav-link-clear-active::after {
  display: none !important;
  content: none !important;
  background: transparent !important;
  width: 0 !important;
  height: 0 !important;
}

/* Dark mode clearing override */
body.dark-mode .nav-link-clear-active {
  background-color: transparent !important;
  color: #ffffff !important;
  font-weight: inherit !important;
  border-bottom-color: transparent !important;
}
