<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Navigation Test - SimulateAI</title>
    <link rel="stylesheet" href="src/styles/main.css">
    <style>
        /* Test-specific styles */
        .test-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        .viewport-info {
            position: fixed;
            top: 80px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 10000;
        }
        .demo-content {
            min-height: 200vh;
            background: linear-gradient(to bottom, #f0f8ff, #e6f3ff);
            padding: 20px;
            margin-top: 20px;
        }
        .feature-list {
            list-style: none;
            padding: 0;
            margin: 20px 0;
        }
        .feature-list li {
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-left: 4px solid #007cba;
            border-radius: 0 4px 4px 0;
        }
        .feature-list li.mobile-only {
            border-left-color: #ff6b35;
        }
        .feature-list li.desktop-only {
            border-left-color: #4caf50;
        }
    </style>
</head>
<body>
    <!-- Viewport info for testing -->
    <div class="viewport-info">
        Viewport: <span id="viewport-width"></span>px Ã— <span id="viewport-height"></span>px
        <br>Nav Mode: <span id="nav-mode"></span>
    </div>

    <!-- Skip to content for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- ARIA live regions for announcements -->
    <div id="aria-live-polite" aria-live="polite" aria-atomic="true" class="sr-only"></div>
    <div id="aria-live-assertive" aria-live="assertive" aria-atomic="true" class="sr-only"></div>
    
    <!-- Status and notification area -->
    <div id="status-region" role="status" aria-live="polite" class="sr-only"></div>
    
    <!-- Header with Mobile Navigation -->
    <header class="header" role="banner">
        <div class="header-container">
            <div class="logo">
                <div style="width: 40px; height: 40px; background: #007cba; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">AI</div>
                <h1 class="site-title">SimulateAI</h1>
            </div>
              
            <!-- Mobile hamburger button -->
            <button class="nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="main-navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
              
            <nav class="main-nav" role="navigation" aria-label="Main navigation" id="main-navigation">
                <button class="nav-close" aria-label="Close navigation menu">Ã—</button>
                <ul class="nav-list">
                    <li><a href="#home" class="nav-link active" aria-current="page">Home</a></li>
                    <li><a href="#simulations" class="nav-link">Simulations</a></li>
                    <li><a href="#educator-tools" class="nav-link">Educator Tools</a></li>
                    <li><a href="#about" class="nav-link">About</a></li>
                    <li><a href="#contact" class="nav-link">Contact</a></li>
                </ul>
            </nav>
              
            <!-- Accessibility controls -->
            <div class="accessibility-controls" role="group" aria-label="Accessibility options">
                <button class="btn-icon" id="toggle-high-contrast" aria-label="Toggle high contrast mode" aria-pressed="false">
                    <span class="icon" aria-hidden="true">ğŸ¨</span>
                </button>
                <button class="btn-icon" id="toggle-large-text" aria-label="Toggle large text" aria-pressed="false">
                    <span class="icon" aria-hidden="true">ğŸ”</span>
                </button>
                <button class="btn-icon" id="toggle-reduced-motion" aria-label="Toggle reduced motion" aria-pressed="false">
                    <span class="icon" aria-hidden="true">â¸ï¸</span>
                </button>
            </div>
        </div>
        
        <!-- Mobile navigation backdrop -->
        <div class="nav-backdrop" aria-hidden="true"></div>
    </header>

    <main id="main-content" class="main-content">
        <div class="test-container">
            <h1>Mobile Navigation Test</h1>
            <p>This page tests the new responsive hamburger navigation system for SimulateAI.</p>
            
            <div class="test-section">
                <h2>ğŸ” Navigation Features</h2>
                <ul class="feature-list">
                    <li class="mobile-only">ğŸ“± <strong>Mobile (< 768px):</strong> Hamburger menu with slide-out navigation</li>
                    <li class="desktop-only">ğŸ–¥ï¸ <strong>Desktop (â‰¥ 768px):</strong> Horizontal navigation in header</li>
                    <li>ğŸ¯ Smooth animations with hamburger â†’ X transformation</li>
                    <li>ğŸš« Backdrop blur and click-to-close functionality</li>
                    <li>âŒ¨ï¸ Full keyboard accessibility and focus management</li>
                    <li>ğŸ”’ Focus trap when mobile menu is open</li>
                    <li>ğŸ“ Automatic cleanup on window resize</li>
                    <li>ğŸ® Escape key support for quick close</li>
                </ul>
            </div>
            
            <div class="test-section">
                <h2>ğŸ§ª Test Instructions</h2>
                <ol>
                    <li><strong>Resize your browser</strong> to see responsive breakpoints</li>
                    <li><strong>Mobile Mode:</strong> Click hamburger â†’ menu slides out from right</li>
                    <li><strong>Backdrop:</strong> Click outside menu area to close</li>
                    <li><strong>Keyboard:</strong> Tab through navigation, press Escape to close</li>
                    <li><strong>Desktop Mode:</strong> Navigation appears horizontally in header</li>
                    <li><strong>Navigation Links:</strong> Click any link to test auto-close behavior</li>
                </ol>
            </div>
            
            <div class="test-section">
                <h2>ğŸ“‹ Accessibility Features</h2>
                <ul class="feature-list">
                    <li>âœ… ARIA attributes: aria-expanded, aria-controls, aria-hidden</li>
                    <li>âœ… Focus management: auto-focus first link on open</li>
                    <li>âœ… Focus trap: Tab cycles within open menu</li>
                    <li>âœ… Screen reader support with proper labeling</li>
                    <li>âœ… Keyboard navigation: Tab, Shift+Tab, Escape</li>
                    <li>âœ… Touch-friendly targets (44px minimum)</li>
                    <li>âœ… Reduced motion support for animations</li>
                </ul>
            </div>
        </div>
        
        <div class="demo-content">
            <h2>Demo Content</h2>
            <p>This is scrollable content to test the mobile navigation overlay behavior. The navigation should overlay this content properly without interfering with the page layout.</p>
            
            <p>Try opening the mobile navigation and notice how:</p>
            <ul>
                <li>Body scrolling is prevented when the menu is open</li>
                <li>The backdrop blurs the background content</li>
                <li>The menu slides in smoothly from the right</li>
                <li>Clicking outside the menu closes it</li>
            </ul>
            
            <div style="margin-top: 100px;">
                <h3>More Content Below</h3>
                <p>This demonstrates that the mobile navigation works properly with scrolled content and longer pages.</p>
            </div>
        </div>
    </main>

    <script>
        // Viewport info display
        function updateViewportInfo() {
            document.getElementById('viewport-width').textContent = window.innerWidth;
            document.getElementById('viewport-height').textContent = window.innerHeight;
            document.getElementById('nav-mode').textContent = window.innerWidth >= 768 ? 'Desktop' : 'Mobile';
        }
        
        updateViewportInfo();
        window.addEventListener('resize', updateViewportInfo);
        
        // Simple mobile navigation functionality for this test
        // (In the real app, this would be handled by app.js)
        const navToggle = document.querySelector('.nav-toggle');
        const navClose = document.querySelector('.nav-close');
        const mainNav = document.querySelector('.main-nav');
        const navBackdrop = document.querySelector('.nav-backdrop');
        const navLinks = document.querySelectorAll('.nav-link');
        
        function toggleNav(isOpen) {
            const isCurrentlyOpen = mainNav.classList.contains('open');
            const shouldOpen = isOpen !== undefined ? isOpen : !isCurrentlyOpen;
            
            mainNav.classList.toggle('open', shouldOpen);
            navToggle.classList.toggle('active', shouldOpen);
            navBackdrop.classList.toggle('open', shouldOpen);
            
            navToggle.setAttribute('aria-expanded', shouldOpen.toString());
            mainNav.setAttribute('aria-hidden', (!shouldOpen).toString());
            
            document.body.style.overflow = shouldOpen ? 'hidden' : '';
            
            if (shouldOpen) {
                const firstNavLink = mainNav.querySelector('.nav-link');
                if (firstNavLink) {
                    setTimeout(() => firstNavLink.focus(), 100);
                }
            } else {
                navToggle.focus();
            }
        }
        
        navToggle.addEventListener('click', (e) => {
            e.preventDefault();
            toggleNav();
        });
        
        if (navClose) {
            navClose.addEventListener('click', (e) => {
                e.preventDefault();
                toggleNav(false);
            });
        }
        
        if (navBackdrop) {
            navBackdrop.addEventListener('click', () => {
                toggleNav(false);
            });
        }
        
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault(); // Prevent actual navigation in this test
                setTimeout(() => toggleNav(false), 150);
            });
        });
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && mainNav.classList.contains('open')) {
                toggleNav(false);
            }
        });
        
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 768 && mainNav.classList.contains('open')) {
                toggleNav(false);
                document.body.style.overflow = '';
            }
        });
    </script>
</body>
</html>
